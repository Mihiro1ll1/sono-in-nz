---
layout: post
title: Blog DIY
---

こんにちは！

日本でも話題になっていた先日のオーロラ、NZも全国大盛り上がりでした（ちんたら執筆している間にずいぶん前の話になってしまいました）。私が住んでいるエリアでも立派なSouthern Lightが出ていたようですが、その夜私は同居人と天ぷら・日本酒パーティーをしたあと愚かにもスヤスヤ寝てしまっていたので、せっかくのチャンスを逃してとても悔しいです。衛星運用をしている元同僚には𠮟られそうですが、私がNZにいる間に太陽がもうひと暴れしてくれないかなと期待しています。

<div style="text-align: center">
    <img src="../../../image/tempura.jpg" width="400"><br>
</div><br>
本題に入ります。私がこのブログをやっているモチベーションは大きく二つあって

- ひとつは、未来の自分ための生活の記録（兼、未来の誰かに向けた情報共有）
- もうひとつは、ブログ構築を通してWeb関連技術で遊ぶこと

です。今回は、ふたつめの点について私がどうやってこのブログをDIYしているのか、これまでとはテイストを変えて技術っぽい記事を書いてみます。

<h2>目次</h2>
<nav class="toc" markdown="1">
* TOC
{:toc}
</nav>


## はじめにお知らせ
まずはあらためて、みなさま私の拙筆にお付き合いいただきありがとうございます。

インターネットの片隅とはいえ自分の生活を自分の言葉で発信することには恥じらいがあり、こっそり細々やろうと思っていたブログですがやはりリアクションがもらえるとモチベーションになります。

ということで、<a href="#saigo">それぞれの記事の最後</a>に高評価ボタンとコメント欄を設置しました。画像のようにゲストとしても投稿できるようなので、気が向いたらポジティブなコメントぜひよろしくおねがいします:)

<div style="text-align: center">
    <img src="../../../image/disqus.jpg" width="500" border="1px"><br>
</div><br>
## どんなふうに遊んでいるか

### サイトを作る

このブログは[GitHub Pages](https://pages.github.com/)というサービスを使ってホスティング（Web上に公開）されています。サーバを自分で用意しなくてよいし、Markdownでコンテンツを書けばおしゃれなテーマに沿ってページを自動生成してくれるので、ネットワーク技術に疎くてもお手軽に自作ブログ運用が始められ（てしまい）ます。

細かいことはリポジトリをのぞいてくださいということで、以降の内容、大雑把ですがご容赦ください。

### 検索エンジンに登録する

サイトを公開するからには検索エンジンで誰かに見つけてもらえると嬉しいので、[Google Search Console](https://search.google.com/search-console/about)にサイトを登録しました。その過程で[Google Analytics](https://developers.google.com/analytics/learn?hl=ja)も設定していて、これによっていつ・どこから・どれくらいの人が・どのページにアクセスしてくれているのかが解析できて楽しいです。

Topページはすぐにインデックス登録されて無事にGoogle検索にヒットするようになりました👏

<div style="text-align: center">
    <img src="../../../image/google_search.jpg" width="500" border="1px"><br>
</div><br>

しかしそれ以外のページはずっと「検出済み、インデックス未登録」の状態でGoogle検索に現れません。解法を調べて手を打たねばと思ってはいるのですが、lazyなので放置してしまっています。

### ローカルテスト環境を構築する

記事を追加したり設定変更を反映する前にあらかじめローカルでテストをしておきたいです。作業環境はWindows11 WSL2のUbuntu 20.04で、[Docker Hubに公開されているイメージ](https://hub.docker.com/r/starefossen/github-pages/)をありがたく活用しています。

使用リソースの制限を設定しないままコンテナを起動するとCPU使用率が上昇してファンがブンブン回って怖かったので（こちらでPCに壊れられると非常に困るのであまりいじめるような使い方はしたくない）、Docker側でCPU使用率を5%に制限するように設定しています（このときWindowsのタスクマネージャでは使用率30~40%程度）。

### カスタムドメインを取得する

独自ドメインを持っているとカッコいいので、[お名前.com](https://www.onamae.com/)で「sonoinnz.com」を取得しました。GitHub Pagesの公式情報に従ってリポジトリ側の設定とネームサーバのDNSレコードを設定することで、特にハマることなく独自ドメインでブログにアクセスできるようになりました。Google Search ConsoleとGoogle Analyticsの登録内容もアップデートして、おそらく正しく再設定できているはずです。

### 広告を貼る

せっかく読みに来てくれる皆さまを煩わすのは本意ではないですが、ウェブ広告の仕組みも興味があり試してみたいことの一つでした。

[Google AdSense](https://adsense.google.com/start/)に登録して審査を受けたところ、初回は以下の通り不合格で悔しい思いをしましたが、記事を増やしたりすっからかんだったページにリンクを貼ったりして再度審査に挑み、二度目で合格させてもらいました。

> 審査の結果、残念ながら、お客様のサイトは広告を掲載する準備がまだ整っていないようです。サイトに広告を掲載できるようにするには、いくつかの問題を解決していただく必要がございます。

これで「1円でも稼げたらブロガーが名乗れるぞ」と思っていたら、130NZDが支払いが発生する基準額とのことなので道のりは長く険しそうです。。

AdSenseの管理画面で「プライバシーに関する規制（GDPRやらCPRAやら）に対応しましょう」という宿題が出ているのですが、こちらもlazyにつき重い腰が上がっていません。

### コメント欄を設置する

[はじめにお知らせ](#はじめにお知らせ)した通りです。以下の点で一番お手軽そうだった[Disqus](https://disqus.com/)というサービスを使っています。

- [使っているテーマに公式のHowToがある](https://github.com/jekyll/minima?tab=readme-ov-file#enabling-comments-via-disqus)
- GitHubアカウントがなくてもコメントできる。匿名でも。
- 参考情報がたくさん見つかる

## おわりに

はじめて触る技術やツールについては自分なりに勉強しながら作業をしていますが、恥ずかしながらよく理解せずにHowTo記事に書いてあることをコピペしている部分もそれなりにあります。それでも実際に動くモノを作ることは楽しいし、不出来でも学びは多いです。今後も積極的に新機能を追加していきたいので、みなさまからも面白いアイディアがあればぜひコメントください。それでは！

<div id="saigo">
</div>
